# SPDX-FileCopyrightText: 2020 Helmholtz Centre for Environmental Research (UFZ)
# SPDX-FileCopyrightText: 2020 Helmholtz-Zentrum Dresden-Rossendorf (HZDR)
#
# SPDX-License-Identifier: Apache-2.0

---

# Here you specify whether it is a 'master' or 'replica' instance:
redis_instance_type: 'master'
# You need to provide the IP address of your Redis instance:
redis_instance_ip: "{{ ansible_default_ipv4.address }}"
# This is the name of the Redis cluster:
redis_cluster_name: 'redis-cluster'
# You need to provide the IP address of your Redis master instance:
redis_master_instance_ip: "{{ redis_instance_ip if redis_instance_type == 'master' else None }}"
# This password is used to authenticate to the Redis instance:
redis_instance_requirepass: 'changeme'
# This password is used by the replicas to authenticate to the master:
redis_instance_masterauth: 'changeme'
# This password is used to authenticate to the Redis Sentinel instance:
redis_instance_sentinelpass: 'changeme'

# Redis version
redis_version: '6.0.6'
# Path to the Redis Server binary
redis_bin: '/usr/local/bin/redis-server'
# List of dependencies of Redis Server
redis_dependencies:
  - 'build-essential'
# URL from which Redis Server can be downloaded
redis_download_url: "https://download.redis.io/releases/redis-{{ redis_version }}.tar.gz"
# Path to the directory in which Redis Server is build
redis_build_dir: '/usr/local/src/redis-{{ redis_version }}'
# Redis Server utilities directory
redis_utils_dir: '{{ redis_build_dir }}/utils'
# Name of the template file for Systemd service
redis_service_template: '{{ redis_utils_dir }}/systemd-redis_server.service'
# Directory into which Redis service file is copied
redis_systemd_dir: '/etc/systemd/system'
# Name of Redis Server service file
redis_server_service_file: '{{ redis_systemd_dir }}/redis-server.service'
# Name of Redis Sentinel service file
redis_sentinel_service_file: '{{ redis_systemd_dir }}/redis-sentinel.service'
# Directory of Redis Server configuration files
redis_configuration_dir: '/etc/redis'
# Path to Redis Server configuration file
redis_server_configuration_file: '{{ redis_configuration_dir }}/redis.conf'
# Path to Redis Sentinel configuration file
redis_sentinel_configuration_file: '{{ redis_configuration_dir }}/sentinel.conf'
# Redis library directory
redis_lib_dir: '/var/lib/redis/'
# Redis logging directory
redis_log_dir: '/var/log/redis/'
# Redis log level, can be one of: debug, verbose, notice, warning
redis_log_level: 'notice'
# Sentinel log level, can be one of: debug, verbose, notice, warning
sentinel_log_level: 'notice'
# Redis user name
redis_user: 'redis'
# Redis group name
redis_group: 'redis'
# Redis Server service name
redis_server_service_name: 'redis-server'
# Redis Sentinel service name
redis_sentinel_service_name: 'redis-sentinel'

...
